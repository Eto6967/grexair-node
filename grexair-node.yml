# This file is auto-generated by openmediavault (https://www.openmediavault.org)
# WARNING: Do not edit this file, your changes will get lost.

# grexair-node
# 

services:
  greexair-app:
    build:
      context: ./GreexAir
      dockerfile: Dockerfile
    container_name: greexair-app
    dns:
      - 8.8.8.8
      - 1.1.1.1
    environment:
      # Fixen beégetve a link az App-nak:
      - DB_URL=postgresql://neondb_owner:npg_XOSHJid94uCK@ep-delicate-smoke-agrpz918-pooler.c-2.eu-central-1.aws.neon.tech/neondb?sslmode=require
      - TZ=Europe/Budapest
    ports:
      - "80:5000"
    restart: always

  greexair-uploader:
    build:
      context: ./GreexAir
      dockerfile: Dockerfile
    container_name: greexair-uploader
    dns:
      - 8.8.8.8
      - 1.1.1.1
    environment:
      - SERIAL_PORT=/dev/ttyUSB0
      # Ezt pótoltuk! Fixen beégetve a link az Uploader-nek is:
      - DB_URL=postgresql://neondb_owner:npg_XOSHJid94uCK@ep-delicate-smoke-agrpz918-pooler.c-2.eu-central-1.aws.neon.tech/neondb?sslmode=require
    devices:
      - "/dev/ttyUSB0:/dev/ttyUSB0"
    command: ["node", "uploader.js"]
    restart: always
